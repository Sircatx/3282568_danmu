<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>æ€ªå°è‘µçš„å¼¹å¹•å½’æ¡£</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: -apple-system, sans-serif; padding: 20px; background: #fdf2f5; display: flex; justify-content: center; }
        .container { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 25px rgba(255,105,180,0.15); width: 100%; max-width: 500px; }
        h1 { color: #ff69b4; font-size: 1.4rem; text-align: center; margin-bottom: 20px; border-bottom: 2px solid #ffecf2; padding-bottom: 15px; }
        .list-group { list-style: none; padding: 0; margin: 0; }
        .file-item { display: flex; align-items: center; padding: 14px; background: #fff; border: 1px solid #ffe4ed; border-radius: 12px; margin-bottom: 10px; text-decoration: none; color: #444; font-weight: 500; transition: all 0.2s; }
        .file-item:hover { background: #fff0f5; border-color: #ff69b4; transform: translateY(-2px); }
        .icon { font-size: 1.3rem; margin-right: 12px; }
        .back-btn { display: inline-block; margin-bottom: 15px; color: #ff69b4; cursor: pointer; font-size: 0.9rem; font-weight: bold; }
        .loading { text-align: center; color: #ff69b4; padding: 30px; font-style: italic; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ» æ€ªå°è‘µçš„å¼¹å¹•å½’æ¡£</h1>
        <div id="app">
            <div class="loading">æ­£åœ¨åŠ è½½å°‘å¥³çš„å½’æ¡£...</div>
        </div>
    </div>

    <script>
        const repo = "Sircatx/3282568_danmu";
        const app = document.getElementById('app');

        // æ™ºèƒ½è·å–å†…å®¹ï¼Œä¸è·³è½¬ GitHub
        async function loadPath(path = "") {
            app.innerHTML = '<div class="loading">æ­£åœ¨åŠªåŠ›è¯»å–ä¸­...</div>';
            try {
                // ä½¿ç”¨ GitHub API è·å–æ–‡ä»¶æ ‘
                const res = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`);
                const data = await res.json();
                
                let html = path ? `<div class="back-btn" onclick="loadPath('')">â¬… è¿”å›ä¸»ç›®å½•</div>` : '';
                html += '<div class="list-group">';
                
                data.forEach(item => {
                    if (item.name === 'index.html' || item.name === 'vercel.json') return;
                    
                    if (item.type === 'dir') {
                        // æ–‡ä»¶å¤¹ï¼šç‚¹å‡»ä»åœ¨ Vercel å†…åˆ‡æ¢
                        html += `<a href="javascript:void(0)" class="file-item" onclick="loadPath('${item.path}')"><span class="icon">ğŸ“</span>${item.name}</a>`;
                    } else {
                        // æ–‡ä»¶ï¼šç‚¹å‡»ä½¿ç”¨å›½å†…åŠ é€Ÿé€šé“ç›´æ¥æ‰“å¼€
                        const proxyUrl = `https://jsd.cdn.zzko.cn/gh/${repo}@main/${item.path}`;
                        html += `<a href="${proxyUrl}" target="_blank" class="file-item"><span class="icon">ğŸ“„</span>${item.name}</a>`;
                    }
                });
                
                html += '</div>';
                app.innerHTML = html;
            } catch (e) {
                app.innerHTML = '<div class="loading">å“å‘€ï¼ŒåŠ è½½å¤±è´¥äº†ï¼Œè¯·åˆ·æ–°é‡è¯•~</div>';
            }
        }

        loadPath(""); // åˆå§‹åŒ–åŠ è½½
    </script>
</body>
</html>
